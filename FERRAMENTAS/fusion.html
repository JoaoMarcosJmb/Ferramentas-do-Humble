<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Fusion Dex Maker - Humble</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>
        /* --- CSS ID√äNTICO AO ORIGINAL (EMBED 2.HTML) --- */
        body {
            margin: 0;
            font-family: 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
            color: #dcddde;
            /* Tentei simular o fundo original, troque a URL se precisar */
            background:
                linear-gradient(rgba(22,26,35,0.85), rgba(22,26,35,0.95)),
                url("https://i.imgur.com/8Qj8x9v.png"); 
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* --- NAVBAR --- */
        .navbar {
            display: flex; justify-content: space-between; align-items: center; padding: 8px 30px;
            background: rgba(15, 23, 42, 0.95); border-bottom: 1px solid #1e293b;
            backdrop-filter: blur(10px); position: sticky; top: 0; z-index: 1000; height: 50px; flex-shrink: 0;
        }
        .nav-brand { display: flex; align-items: center; gap: 12px; font-weight: bold; font-size: 18px; }
        .nav-brand span { color: #00b0f4; }
        
        .action-btn {
            background: rgba(255,255,255,0.05); border: 1px solid #334155; color: #e5e7eb; font-size: 12px;
            padding: 6px 12px; border-radius: 4px; cursor: pointer; display: flex; align-items: center; gap: 5px;
            font-weight: 600; transition: 0.2s; text-decoration: none;
        }
        .action-btn:hover { background: #334155; }
        .action-btn.primary { background: #2d7d46; border-color: #2d7d46; color: #fff; }
        .action-btn.primary:hover { background: #1e5c32; }
        .action-btn.copy { background: #00b0f4; border-color: #00b0f4; color: #fff; }
        .action-btn.copy:hover { background: #0088bd; }

        /* --- GRID PRINCIPAL --- */
        .main-grid {
            display: grid; grid-template-columns: 450px 1fr; gap: 20px; padding: 20px;
            max-width: 1600px; margin: 0 auto; flex: 1; width: 100%; height: auto;
        }

        /* --- PAINEL ESQUERDO (EDITOR) --- */
        .editor-panel {
            background: rgba(15, 23, 42, 0.9); border: 1px solid #1e293b; border-radius: 8px;
            display: flex; flex-direction: column; height: calc(100vh - 120px); overflow: hidden;
            backdrop-filter: blur(5px);
        }

        .editor-content { padding: 20px; overflow-y: auto; flex: 1; }

        /* Inputs e Detalhes (Estilo Original) */
        details { background: #1e293b; margin-bottom: 10px; border-radius: 5px; overflow: hidden; border: 1px solid #334155; }
        summary { padding: 12px; cursor: pointer; font-weight: bold; background: #252f42; list-style: none; display: flex; justify-content: space-between; align-items: center; font-size: 13px; }
        summary::after { content: "+"; font-size: 16px; }
        details[open] summary::after { content: "-"; }
        
        .control-group { padding: 15px; display: flex; flex-direction: column; gap: 10px; }
        
        label { font-size: 11px; color: #94a3b8; text-transform: uppercase; font-weight: bold; margin-bottom: 2px; display: block; }
        
        input, textarea, select { 
            box-sizing: border-box; background: #0b1120; border: 1px solid #334155; 
            color: #e2e8f0; padding: 10px 12px; border-radius: 4px; width: 100%; 
            font-family: 'Consolas', monospace; font-size: 13px; outline: none; transition: 0.2s;
        }
        input:focus, textarea:focus { border-color: #00b0f4; background: #111827; }

        /* Stats Grid */
        .stats-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .total-display { text-align: right; color: #fbbf24; font-size: 12px; font-weight: bold; margin-top: 5px;}

        /* --- PREVIEW --- */
        .preview-panel {
            background: #313338; border-radius: 8px; padding: 20px; display: flex; flex-direction: column; gap: 20px;
            overflow-y: auto; height: calc(100vh - 120px); border: 1px solid #1e293b;
        }

        .discord-msg { display: flex; gap: 12px; font-family: 'gg sans', 'Helvetica Neue', Helvetica, Arial, sans-serif; line-height: 1.375rem;}
        .bot-avatar { width: 40px; height: 40px; border-radius: 50%; background-color: #5865F2; flex-shrink: 0; margin-top: 2px;}
        .msg-content { width: 100%; }
        .bot-name { color: #f2f3f5; font-weight: 500; display: flex; align-items: center; gap: 5px; }
        .bot-tag { background: #5865F2; color: #fff; font-size: 10px; padding: 1px 4px; border-radius: 3px; line-height: 1.3; margin-top: 1px;}
        .timestamp { font-size: 12px; color: #949BA4; margin-left: 5px; font-weight: 400;}

        .discord-embed {
            margin-top: 8px; background: #2b2d31; border-left: 4px solid #9646250; border-radius: 4px; padding: 16px; 
            max-width: 520px; display: grid; gap: 8px;
        }
        
        .embed-title { font-size: 16px; font-weight: 600; color: #fff; margin-bottom: 4px; }
        .embed-desc { font-size: 14px; color: #dcddde; white-space: pre-wrap; line-height: 1.4; }
        .embed-thumb { float: right; max-width: 80px; max-height: 80px; border-radius: 4px; object-fit: cover; margin-left: 10px; display: none;}
        
        .field-item { margin-top: 4px; }
        .field-name { font-weight: 600; font-size: 14px; color: #fff; margin-bottom: 2px; }
        .field-value { font-size: 14px; color: #dcddde; white-space: pre-wrap; line-height: 1.375rem; }
        
        .code-block {
            background: #1e1f22; padding: 8px; border-radius: 4px; font-family: 'Consolas', monospace; font-size: 13px; color: #dcddde; border: 1px solid #111214; display: block;
        }

        .embed-footer { font-size: 12px; color: #dcddde; margin-top: 8px; display: flex; align-items: center; gap: 5px;}

        @media (max-width: 900px) {
            .main-grid { grid-template-columns: 1fr; height: auto; }
            .editor-panel, .preview-panel { height: auto; min-height: 500px; }
        }
    </style>
</head>
<body>

    <nav class="navbar">
        <div class="nav-brand">
            <span>‚ö°</span> Fusion Dex Maker
        </div>
        <div style="display: flex; gap: 10px;">
            <button class="action-btn" onclick="clearAll()">üóëÔ∏è Limpar</button>
            <button class="action-btn copy" onclick="copyJSON()">üìã Copiar JSON</button>
        </div>
    </nav>

    <div class="main-grid">
        
        <div class="editor-panel">
            <div class="editor-content">
                
                <details open>
                    <summary>Identidade da Fus√£o</summary>
                    <div class="control-group">
                        <label>Nome Final</label>
                        <input type="text" id="inp-name" placeholder="Ex: Conkelbodor" oninput="update()">
                        
                        <div style="display: flex; gap: 10px;">
                            <div style="flex: 1;">
                                <label>Corpo (Base)</label>
                                <input type="text" id="inp-body" placeholder="Ex: Conkeldurr" oninput="update()">
                            </div>
                            <div style="flex: 1;">
                                <label>Cabe√ßa (Head)</label>
                                <input type="text" id="inp-head" placeholder="Ex: Garbodor" oninput="update()">
                            </div>
                        </div>

                        <label>Descri√ß√£o (Flavor Text)</label>
                        <textarea id="inp-desc" rows="3" placeholder="Uma fus√£o de for√ßa bruta e toxicidade..." oninput="update()"></textarea>
                    </div>
                </details>

                <details open>
                    <summary>Dados T√©cnicos</summary>
                    <div class="control-group">
                        <div style="display: flex; gap: 10px;">
                            <div style="flex: 1;">
                                <label>Tipo 1</label>
                                <input type="text" id="inp-type1" placeholder="Fighting" oninput="update()">
                            </div>
                            <div style="flex: 1;">
                                <label>Tipo 2</label>
                                <input type="text" id="inp-type2" placeholder="Poison" oninput="update()">
                            </div>
                        </div>
                        
                        <label>Cor do Embed (Hex)</label>
                        <div style="display: flex; gap: 8px;">
                            <input type="color" id="inp-color-picker" value="#9332a8" style="height: 38px; width: 50px; padding: 0; cursor: pointer;" oninput="document.getElementById('inp-color').value = this.value; update()">
                            <input type="text" id="inp-color" value="#9332a8" oninput="update()">
                        </div>

                        <label>Thumbnail (URL da Imagem)</label>
                        <input type="text" id="inp-thumb" placeholder="https://i.imgur.com/..." oninput="update()">
                    </div>
                </details>

                <details open>
                    <summary>Base Stats</summary>
                    <div class="control-group">
                        <div class="stats-grid">
                            <div><label>HP</label><input type="number" id="s-hp" value="110" oninput="update()"></div>
                            <div><label>Attack</label><input type="number" id="s-atk" value="140" oninput="update()"></div>
                            <div><label>Defense</label><input type="number" id="s-def" value="100" oninput="update()"></div>
                            <div><label>Sp. Atk</label><input type="number" id="s-spa" value="100" oninput="update()"></div>
                            <div><label>Sp. Def</label><input type="number" id="s-spd" value="80" oninput="update()"></div>
                            <div><label>Speed</label><input type="number" id="s-spe" value="45" oninput="update()"></div>
                        </div>
                        <div class="total-display">TOTAL: <span id="stat-total">575</span></div>
                    </div>
                </details>

                <details>
                    <summary>Habilidades e Moves</summary>
                    <div class="control-group">
                        <label>Habilidades Comuns</label>
                        <input type="text" id="inp-abil-common" placeholder="Guts, Sheer Force..." oninput="update()">
                        
                        <label>Habilidade Oculta (Hidden)</label>
                        <input type="text" id="inp-abil-hidden" placeholder="Iron Fist" oninput="update()">
                        
                        <label>Moves Adicionados (Separar por v√≠rgula)</label>
                        <textarea id="inp-moves" rows="3" placeholder="Gunk Shot, Toxic, Protect..." oninput="update()"></textarea>
                    </div>
                </details>

            </div>
        </div>

        <div class="preview-panel">
            <div class="discord-msg">
                <div class="bot-avatar"></div>
                <div class="msg-content">
                    <div class="bot-name">
                        Humble Bot <span class="bot-tag">BOT</span> <span class="timestamp">Hoje √†s 15:00</span>
                    </div>

                    <div class="discord-embed" id="embed-preview">
                        <div style="display: flex; justify-content: space-between; align-items: flex-start;">
                            <div style="flex: 1;">
                                <div class="embed-title" id="out-title">Conkelbodor</div>
                                <div class="embed-desc" id="out-desc">**Conkeldurr** (Body) + **Garbodor**</div>
                            </div>
                            <img src="" id="out-thumb" class="embed-thumb">
                        </div>

                        <div class="field-item">
                            <div class="field-name">Tipagem</div>
                            <div class="field-value" id="out-types">**Fighting** / **Poison**</div>
                        </div>

                        <div class="field-item">
                            <div class="field-name">Base Stats</div>
                            <div class="field-value code-block" id="out-stats">
HP:   110
Atk:  140
Def:  100
SpA:  100
SpD:   80
Spe:   45
Total: 575</div>
                        </div>

                        <div class="field-item">
                            <div class="field-name">Habilidades</div>
                            <div class="field-value" id="out-abilities">**Comuns:** Guts...</div>
                        </div>

                        <div class="field-item" id="container-moves" style="display: none;">
                            <div class="field-name" id="out-moves-title">Moves Adicionados</div>
                            <div class="field-value" id="out-moves">...</div>
                        </div>

                        <div class="embed-footer">Humble Pixelmon ‚Ä¢ Custom Dex</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function getVal(id) { return document.getElementById(id).value; }
        function setTxt(id, txt) { document.getElementById(id).innerText = txt; }
        function setHtml(id, html) { document.getElementById(id).innerHTML = html; }
        function pad(num) { return num.toString().padStart(3, ' '); }

        function generateData() {
            // Identidade
            const name = getVal('inp-name') || "Nome da Fus√£o";
            const body = getVal('inp-body') || "Body";
            const head = getVal('inp-head') || "Head";
            let desc = `**${body}** (Body) + **${head}**`;
            const extraDesc = getVal('inp-desc');
            if(extraDesc) desc += `\n${extraDesc}`;

            // Cores
            const colorHex = getVal('inp-color') || "#9332a8";
            const colorInt = parseInt(colorHex.replace('#', ''), 16);

            // Stats
            const hp = parseInt(getVal('s-hp')) || 0;
            const atk = parseInt(getVal('s-atk')) || 0;
            const def = parseInt(getVal('s-def')) || 0;
            const spa = parseInt(getVal('s-spa')) || 0;
            const spd = parseInt(getVal('s-spd')) || 0;
            const spe = parseInt(getVal('s-spe')) || 0;
            const total = hp + atk + def + spa + spd + spe;

            document.getElementById('stat-total').innerText = total;

            // Formata√ß√£o Limpa (Sem barras, sem emojis, s√≥ alinhado)
            const statsText = 
`HP:   ${pad(hp)}
Atk:  ${pad(atk)}
Def:  ${pad(def)}
SpA:  ${pad(spa)}
SpD:  ${pad(spd)}
Spe:  ${pad(spe)}
Total: ${total}`;

            // Tipos
            const t1 = getVal('inp-type1');
            const t2 = getVal('inp-type2');
            let typeStr = t1 ? `**${t1}**` : "Unknown";
            if(t2) typeStr += ` / **${t2}**`;

            // Habilidades
            const comm = getVal('inp-abil-common');
            const hidden = getVal('inp-abil-hidden');
            let abilStr = comm ? `**Comuns:** ${comm}` : "";
            if(hidden) {
                if(abilStr) abilStr += "\n";
                abilStr += `**Hidden:** ${hidden}`;
            }
            if(!abilStr) abilStr = "Nenhuma";

            // Moves
            const moves = getVal('inp-moves');
            const moveTitle = head ? `Moves Adicionados (${head})` : "Moves Adicionados";

            // Montagem do JSON
            const embed = {
                title: name,
                description: desc,
                color: colorInt,
                thumbnail: { url: getVal('inp-thumb') },
                fields: [
                    { name: "Tipagem", value: typeStr, inline: true },
                    { name: "Base Stats", value: "```\n" + statsText + "\n```", inline: false },
                    { name: "Habilidades", value: abilStr, inline: false }
                ],
                footer: { text: "Humble Pixelmon ‚Ä¢ Custom Dex" }
            };

            if(moves) {
                embed.fields.push({ name: moveTitle, value: moves, inline: false });
            }

            return embed;
        }

        function update() {
            const data = generateData();

            // Atualiza Preview HTML
            setTxt('out-title', data.title);
            
            // Descri√ß√£o (Markdown -> HTML simples para preview)
            let descHtml = data.description.replace(/\*\*(.*?)\*\*/g, '<b>$1</b>').replace(/\n/g, '<br>');
            setHtml('out-desc', descHtml);

            document.getElementById('embed-preview').style.borderLeftColor = '#' + data.color.toString(16).padStart(6, '0');

            // Thumb
            const thumbEl = document.getElementById('out-thumb');
            if(data.thumbnail.url) { 
                thumbEl.src = data.thumbnail.url; 
                thumbEl.style.display = 'block'; 
            } else { 
                thumbEl.style.display = 'none'; 
            }

            // Campos Fixos
            setHtml('out-types', data.fields[0].value.replace(/\*\*(.*?)\*\*/g, '<b>$1</b>'));
            setTxt('out-stats', data.fields[1].value.replace(/```/g, '').trim());
            setHtml('out-abilities', data.fields[2].value.replace(/\*\*(.*?)\*\*/g, '<b>$1</b>').replace(/\n/g, '<br>'));

            // Campo Opcional (Moves)
            const moveContainer = document.getElementById('container-moves');
            if(data.fields[3]) {
                moveContainer.style.display = 'block';
                setTxt('out-moves-title', data.fields[3].name);
                setTxt('out-moves', data.fields[3].value);
            } else {
                moveContainer.style.display = 'none';
            }
        }

        function copyJSON() {
            const data = generateData();
            const jsonStr = JSON.stringify(data, null, 2); // Identa√ß√£o bonita
            navigator.clipboard.writeText(jsonStr).then(() => {
                const btn = document.querySelector('.action-btn.copy');
                const originalText = btn.innerHTML;
                btn.innerHTML = "‚úÖ Copiado!";
                setTimeout(() => btn.innerHTML = originalText, 2000);
            });
        }

        function clearAll() {
            if(confirm("Limpar todos os campos?")) {
                document.querySelectorAll('input, textarea').forEach(el => el.value = '');
                update();
            }
        }

        // Inicializa
        window.addEventListener('load', update);
    </script>
</body>
</html>
